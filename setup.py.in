from distutils.core import setup
import os

def gatherFlowsolverFiles(directory):
  flowsolver_files = []
  for (path, directories, filenames) in os.walk(directory):
    for filename in filenames:
      flowsolver_files.append(os.path.join(path, filename))
  return flowsolver_files


flowsolver_files = gatherFlowsolverFiles('CRIMSONSolver/SolverStudies/flowsolver')

setup(name='CRIMSON',
      version='1.0',
      description='CRIMSON core utilities',
      packages=['CRIMSONCore',
                'CRIMSONSolver',
                'CRIMSONSolver.BoundaryConditions',
                'CRIMSONSolver.BoundaryConditionSets',
                'CRIMSONSolver.SolverSetupManagers',
                'CRIMSONSolver.SolverParameters',
                'CRIMSONSolver.SolverStudies',
                'CRIMSONSolver.Materials'
                ],
      py_modules=['upgradeScene', 'upgradeScene2'],
      data_files = [('${python_lib_folder}site-packages/CRIMSONSolver/SolverStudies/flowsolver', flowsolver_files),
      ('${python_lib_folder}site-packages/CRIMSONSolver/SolverStudies', ['CRIMSONSolver/SolverStudies/${presolver_executable_filename}',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/BoundaryConditions/ui', ['CRIMSONSolver/BoundaryConditions/ui/PrescribedVelocitiesBoundaryConditionEditorWidget.ui',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/BoundaryConditions/ui', ['CRIMSONSolver/BoundaryConditions/ui/NetlistBCEditorWidget.ui',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/BoundaryConditions/ui/icons', ['CRIMSONSolver/BoundaryConditions/ui/icons/open.png',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/Materials/ui', ['CRIMSONSolver/Materials/ui/MaterialEditorWidget.ui',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/Materials/ui', ['CRIMSONSolver/Materials/ui/SingleMaterialEditorWidget.ui',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/Materials/ui/icons', ['CRIMSONSolver/Materials/ui/icons/after.png',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/Materials/ui/icons', ['CRIMSONSolver/Materials/ui/icons/before.png',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/Materials/ui/icons', ['CRIMSONSolver/Materials/ui/icons/circle.png',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/Materials/ui/icons', ['CRIMSONSolver/Materials/ui/icons/delete.png',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/Materials/ui/icons', ['CRIMSONSolver/Materials/ui/icons/open.png',]),
                    ('${python_lib_folder}site-packages/CRIMSONSolver/Materials/ui/icons', ['CRIMSONSolver/Materials/ui/icons/save.png',]),
                    ]
      )
